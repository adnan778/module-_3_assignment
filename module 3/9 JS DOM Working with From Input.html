<!DOCTYPE html>
<html>
<head>
  <title>JS DOM Working with From Input</title>
  <style>
    .error {
      color: red;
    }
    body{
        margin: 50px;
    }
  </style>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/milligram/1.4.1/milligram.min.css" integrity="sha512-xiunq9hpKsIcz42zt0o2vCo34xV0j6Ny8hgEylN3XBglZDtTZ2nwnqF/Z/TTCc18sGdvCjbFInNd++6q3J0N6g==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <script>
    function validateForm() {
      const nameInput = document.getElementById("name");
      const emailInput = document.getElementById("email");
      const passwordInput = document.getElementById("password");
      const confirmPasswordInput = document.getElementById("confirmPassword");
      const errorMessages = document.getElementsByClassName("error");

      // Reset error messages
      for (let i = 0; i < errorMessages.length; i++) {
        errorMessages[i].innerHTML = "";
      }

      let isValid = true;

      // Validate Name
      if (nameInput.value.trim() === "") {
        document.getElementById("nameError").innerHTML = "Name is required.";
        isValid = false;
      } else if (!/^[a-zA-Z]+$/.test(nameInput.value)) {
        document.getElementById("nameError").innerHTML = "Name should contain only letters.";
        isValid = false;
      }

      // Validate Email
      if (emailInput.value.trim() === "") {
        document.getElementById("emailError").innerHTML = "Email is required.";
        isValid = false;
      } else if (!/^[\w-]+(\.[\w-]+)*@([\w-]+\.)+[a-zA-Z]{2,}$/.test(emailInput.value)) {
        document.getElementById("emailError").innerHTML = "Invalid email address.";
        isValid = false;
      }

      // Validate Password
      if (passwordInput.value.length < 8) {
        document.getElementById("passwordError").innerHTML = "Password should have a minimum length of 8 characters.";
        isValid = false;
      } else if (!/[a-z]/.test(passwordInput.value) || !/[A-Z]/.test(passwordInput.value) || !/\d/.test(passwordInput.value)) {
        document.getElementById("passwordError").innerHTML = "Password should contain at least one uppercase letter, one lowercase letter, and one digit.";
        isValid = false;
      }

      // Validate Confirm Password
      if (confirmPasswordInput.value !== passwordInput.value) {
        document.getElementById("confirmPasswordError").innerHTML = "Passwords do not match.";
        isValid = false;
      }

      return isValid;
    }
  </script>
</head>
<body>
  <h1>Form Validation</h1>
  <form onsubmit="return validateForm()">
    <div>
      <label for="name">Name:</label>
      <input type="text" id="name" name="name" required>
      <div id="nameError" class="error"></div>
    </div>
    <div>
      <label for="email">Email:</label>
      <input type="email" id="email" name="email" required>
      <div id="emailError" class="error"></div>
    </div>
    <div>
      <label for="password">Password:</label>
      <input type="password" id="password" name="password" required>
      <div id="passwordError" class="error"></div>
    </div>
    <div>
      <label for="confirmPassword">Confirm Password:</label>
      <input type="password" id="confirmPassword" name="confirmPassword" required>
      <div id="confirmPasswordError" class="error"></div>
    </div>
    <div>
      <input type="submit" value="Submit">
    </div>
  </form>
</body>
</html>
